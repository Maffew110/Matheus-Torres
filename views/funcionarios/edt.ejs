<%- include('../cabecalho.ejs') %>
  <header>
    <h3>Editar Funcionário</h3>
  </header>
  <div class="content">
    <form id="form-instrumento" method="post" autocomplete="off" action="/funcionarios/edt/<%= funcionarios._id %>"
      enctype="multipart/form-data">
      <div class="grid">
        <div>
          <label for="id">ID</label>
          <input id="id" name="id" type="text" value="<%=funcionarios._id%>" readonly required>
        </div>
        <div>
          <label for="foto">Foto do Funcionário</label>
          <input id="foto" name="foto" type="file">
          <% if (funcionarios.foto) { %>
            <div style="margin-top: 10px;">
              <p>Foto atual:</p>
              <img src="<%= funcionarios.foto %>" alt="Foto do Funcionário"
                style="max-width: 300px; max-height: 200px; border-radius: 8px; margin-top: 8px;" />
            </div>
            <% } %>
        </div>
        <div>
          <label for="nome">Nome do Funcionário</label>
          <input id="nome" name="nome" type="text" placeholder="Ex: João Silva" value="<%=funcionarios.nome%>" required>
        </div>

        <div>
          <label for="cpf">CPF do Funcionário</label>
          <input id="cpf" name="cpf" type="text" placeholder="Ex: 123.456.789-00" value="<%= funcionarios.cpf || '' %>"
            required>
        </div>

        <div>
          <label for="data_inicio">Data de Inicio do Contrato</label>
          <input id="data_inicio" name="data_inicio" type="date"
            value="<%= funcionarios.data_inicio ? new Date(funcionarios.data_inicio).toISOString().slice(0,10) : '' %>"
            required>
        </div>


        <div>
          <label for="data_fim">Data do Final do Contrato</label>
          <input id="data_fim" name="data_fim" type="date"
            value="<%= funcionarios.data_fim ? new Date(funcionarios.data_fim).toISOString().slice(0,10) : '' %>"
            required>
        </div>

        <div>
          <label for="salario">Salário (R$)</label>
          <input id="salario" name="salario" type="number" placeholder="0,00" min="0" step="0.01"
            value="<%= funcionarios.salario != null ? funcionarios.salario : '' %>" required>
        </div>


        <div class="field-help">Os campos com * são obrigatórios.</div>
        <footer>
          <a type="button" class="btn ghost" id="btn-cancelar" href="/funcionarios/lst">Cancelar</a>
          <button type="submit" class="btn primary">Salvar</button>
        </footer>
    </form>
  </div>

  <%- include('../rodape.ejs') %>